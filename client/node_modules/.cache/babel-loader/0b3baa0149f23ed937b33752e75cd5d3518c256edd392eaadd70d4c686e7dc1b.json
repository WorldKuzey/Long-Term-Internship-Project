{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{useQuery}from\"./useContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TreeView(){const{setSelectedReportTitle,setSelectedQuery,setSelectedRecNo,setSelectedInitRun}=useQuery();const[menuItems,setMenuItems]=useState([]);useEffect(()=>{async function fetchMenuItems(){try{const response=await axios.get(\"/tree-view\");const menuItems=response.data.map(item=>({recNo:item.recNo,menuAdi:item.menuAdi,raporBaslik:item.raporBaslik,selectSorgusu:item.selectSorgusu,baslangictaRaporCalissinMi:item.baslangictaRaporCalissinMi}));setMenuItems(menuItems);}catch(error){console.error(\"Failed to fetch menu items: \",error);}}fetchMenuItems();},[]);const handleClick=menuItem=>{setSelectedReportTitle(menuItem.raporBaslik);setSelectedQuery(menuItem.selectSorgusu);setSelectedRecNo(menuItem.recNo);setSelectedInitRun(menuItem.baslangictaRaporCalissinMi);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"RAPORLAR\"}),/*#__PURE__*/_jsx(\"ul\",{children:menuItems.map((menuItem,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/report-page\",onClick:()=>handleClick(menuItem),className:\"block px-4 py-2 w-40 bg-blue-500 text-white rounded-md hover:bg-blue-600\",children:menuItem.menuAdi})},index))})]});}export default TreeView;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","useQuery","jsx","_jsx","jsxs","_jsxs","TreeView","setSelectedReportTitle","setSelectedQuery","setSelectedRecNo","setSelectedInitRun","menuItems","setMenuItems","fetchMenuItems","response","get","data","map","item","recNo","menuAdi","raporBaslik","selectSorgusu","baslangictaRaporCalissinMi","error","console","handleClick","menuItem","className","children","index","to","onClick"],"sources":["C:/Internship Project/client/src/pages/HomePage/treeView.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useQuery } from \"./useContext\";\r\n\r\nfunction TreeView() {\r\n  const {\r\n    setSelectedReportTitle,\r\n    setSelectedQuery,\r\n    setSelectedRecNo,\r\n    setSelectedInitRun,\r\n  } = useQuery();\r\n  const [menuItems, setMenuItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchMenuItems() {\r\n      try {\r\n        const response = await axios.get(\"/tree-view\");\r\n\r\n        const menuItems = response.data.map((item) => ({\r\n          recNo: item.recNo,\r\n          menuAdi: item.menuAdi,\r\n          raporBaslik: item.raporBaslik,\r\n          selectSorgusu: item.selectSorgusu,\r\n          baslangictaRaporCalissinMi: item.baslangictaRaporCalissinMi,\r\n        }));\r\n\r\n        setMenuItems(menuItems);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch menu items: \", error);\r\n      }\r\n    }\r\n    fetchMenuItems();\r\n  }, []);\r\n\r\n  const handleClick = (menuItem) => {\r\n    setSelectedReportTitle(menuItem.raporBaslik);\r\n    setSelectedQuery(menuItem.selectSorgusu);\r\n    setSelectedRecNo(menuItem.recNo);\r\n    setSelectedInitRun(menuItem.baslangictaRaporCalissinMi);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 border rounded-lg shadow-md\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">RAPORLAR</h1>\r\n      <ul>\r\n        {menuItems.map((menuItem, index) => (\r\n          <li key={index} className=\"mb-2\">\r\n            <Link\r\n              to=\"/report-page\"\r\n              onClick={() => handleClick(menuItem)}\r\n              className=\"block px-4 py-2 w-40 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\r\n            >\r\n              {menuItem.menuAdi}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TreeView;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CACJC,sBAAsB,CACtBC,gBAAgB,CAChBC,gBAAgB,CAChBC,kBACF,CAAC,CAAGT,QAAQ,CAAC,CAAC,CACd,KAAM,CAACU,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAE9CC,SAAS,CAAC,IAAM,CACd,cAAe,CAAAe,cAAcA,CAAA,CAAG,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAAC,YAAY,CAAC,CAE9C,KAAM,CAAAJ,SAAS,CAAGG,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAEC,IAAI,GAAM,CAC7CC,KAAK,CAAED,IAAI,CAACC,KAAK,CACjBC,OAAO,CAAEF,IAAI,CAACE,OAAO,CACrBC,WAAW,CAAEH,IAAI,CAACG,WAAW,CAC7BC,aAAa,CAAEJ,IAAI,CAACI,aAAa,CACjCC,0BAA0B,CAAEL,IAAI,CAACK,0BACnC,CAAC,CAAC,CAAC,CAEHX,YAAY,CAACD,SAAS,CAAC,CACzB,CAAE,MAAOa,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CACAX,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAa,WAAW,CAAIC,QAAQ,EAAK,CAChCpB,sBAAsB,CAACoB,QAAQ,CAACN,WAAW,CAAC,CAC5Cb,gBAAgB,CAACmB,QAAQ,CAACL,aAAa,CAAC,CACxCb,gBAAgB,CAACkB,QAAQ,CAACR,KAAK,CAAC,CAChCT,kBAAkB,CAACiB,QAAQ,CAACJ,0BAA0B,CAAC,CACzD,CAAC,CAED,mBACElB,KAAA,QAAKuB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C1B,IAAA,OAAIyB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACrD1B,IAAA,OAAA0B,QAAA,CACGlB,SAAS,CAACM,GAAG,CAAC,CAACU,QAAQ,CAAEG,KAAK,gBAC7B3B,IAAA,OAAgByB,SAAS,CAAC,MAAM,CAAAC,QAAA,cAC9B1B,IAAA,CAACJ,IAAI,EACHgC,EAAE,CAAC,cAAc,CACjBC,OAAO,CAAEA,CAAA,GAAMN,WAAW,CAACC,QAAQ,CAAE,CACrCC,SAAS,CAAC,0EAA0E,CAAAC,QAAA,CAEnFF,QAAQ,CAACP,OAAO,CACb,CAAC,EAPAU,KAQL,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAAxB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}