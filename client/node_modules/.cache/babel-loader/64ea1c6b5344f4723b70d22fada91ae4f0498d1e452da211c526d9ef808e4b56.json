{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{useQuery}from\"./QueryContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TreeView(){const[recNo,setRecNo]=useState([]);//TODO REPORT PAGE SAYFASINA AKTARILACAK PARAMETRİK OLARAK\nconst[reportTitle,setReportTitle]=useState([]);const[menuName,setMenuName]=useState([]);// TODO REPORT PAGE SAYFASINA AKTARILACAK SAYFANIN BAŞLIĞI  OLARAK\nconst[query,setQuery]=useState([]);// TODO REPORT PAGE SAYFASINA AKATARIALACAK SORGU OLARAK  OLARAK\nconst[initRun,setInitRun]=useState([]);// TODO REPORT PAGE SAYFASINA AKATARILACAK DEĞER  OLARAK\nconst{setSelectedReportTitle}=useQuery();useEffect(()=>{async function fetchMenuItems(){try{const response=await axios.get(\"/tree-view\");const menuArray=[];const queryArray=[];const reportTitleArray=[];const recNoArray=[];const initRunArray=[];for(let i=0;i<Object.values(response.data).length;i++){menuArray.push(Object.values(response.data[i])[2]);//MENU ADI\nqueryArray.push(Object.values(response.data[i])[6]);//SELECT SORGUSU\nreportTitleArray.push(Object.values(response.data[i])[5]);//RAPOR BAŞLIK\nrecNoArray.push(Object.values(response.data[i])[0]);// RECNO\ninitRunArray.push(Object.values(response.data[i])[7]);// BAŞLANGIÇTA RAPOR ÇALIŞSIN MI\n}setMenuName(menuArray);setQuery(queryArray);setInitRun(initRunArray);setRecNo(recNoArray);setReportTitle(reportTitleArray);}catch(error){console.error(\"Failed to fetch menu items: \",error);}}fetchMenuItems();},[]);//TODO Link tıklandığında query[index] değierini useContext ile diğer komponente almamız gerek bunu nasul yapıcaz?\nconst handleClick=async index=>{const selectedReportTitle=reportTitle[index];setSelectedReportTitle(selectedReportTitle);//TODO SELECTED LARI SEÇİP POST ATARKEN ONLARI ARRAY HALİNDE ATMAK DAHA MANTIKLI İLK OLARAK QUERY'Yİ YAPACAĞIM İÇİN İŞLERİN HIZLI GİTMESİ BAKIMINDAN BEN VARİABLE KULLANICAM ŞİMDİLİK AMAÇLADIĞIM ŞEY BAŞARILI OLURSA BU KISIM ARRAY ŞEKLİNDE POST EDİLMELİ Kİ KOD KALABALIĞINDAN KURTULALALIM\nconst selectedQuery=query[index];try{const response=await axios.post(\"http://localhost:3000/sendQuery\",{selectedQuery});console.log(response.data[0][6]);}catch(error){console.error(\"Hata\",error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"RAPORLAR\"}),/*#__PURE__*/_jsx(\"ul\",{children:menuName.map((menuItem,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:{pathname:\"/report-page\"},onClick:()=>handleClick(index),children:menuItem})},index))})]});}export default TreeView;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","useQuery","jsx","_jsx","jsxs","_jsxs","TreeView","recNo","setRecNo","reportTitle","setReportTitle","menuName","setMenuName","query","setQuery","initRun","setInitRun","setSelectedReportTitle","fetchMenuItems","response","get","menuArray","queryArray","reportTitleArray","recNoArray","initRunArray","i","Object","values","data","length","push","error","console","handleClick","index","selectedReportTitle","selectedQuery","post","log","children","map","menuItem","to","pathname","onClick"],"sources":["C:/Internship Project/client/src/pages/HomePage/treeView.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useQuery } from \"./QueryContext\";\r\n\r\nfunction TreeView() {\r\n  const [recNo, setRecNo] = useState([]); //TODO REPORT PAGE SAYFASINA AKTARILACAK PARAMETRİK OLARAK\r\n  const [reportTitle, setReportTitle] = useState([]);\r\n  const [menuName, setMenuName] = useState([]); // TODO REPORT PAGE SAYFASINA AKTARILACAK SAYFANIN BAŞLIĞI  OLARAK\r\n  const [query, setQuery] = useState([]); // TODO REPORT PAGE SAYFASINA AKATARIALACAK SORGU OLARAK  OLARAK\r\n  const [initRun, setInitRun] = useState([]); // TODO REPORT PAGE SAYFASINA AKATARILACAK DEĞER  OLARAK\r\n  const { setSelectedReportTitle } = useQuery();\r\n\r\n  useEffect(() => {\r\n    async function fetchMenuItems() {\r\n      try {\r\n        const response = await axios.get(\"/tree-view\");\r\n\r\n        const menuArray = [];\r\n        const queryArray = [];\r\n        const reportTitleArray = [];\r\n        const recNoArray = [];\r\n        const initRunArray = [];\r\n        for (let i = 0; i < Object.values(response.data).length; i++) {\r\n          menuArray.push(Object.values(response.data[i])[2]); //MENU ADI\r\n          queryArray.push(Object.values(response.data[i])[6]); //SELECT SORGUSU\r\n          reportTitleArray.push(Object.values(response.data[i])[5]); //RAPOR BAŞLIK\r\n          recNoArray.push(Object.values(response.data[i])[0]); // RECNO\r\n          initRunArray.push(Object.values(response.data[i])[7]); // BAŞLANGIÇTA RAPOR ÇALIŞSIN MI\r\n        }\r\n        setMenuName(menuArray);\r\n        setQuery(queryArray);\r\n        setInitRun(initRunArray);\r\n        setRecNo(recNoArray);\r\n        setReportTitle(reportTitleArray);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch menu items: \", error);\r\n      }\r\n    }\r\n    fetchMenuItems();\r\n  }, []);\r\n\r\n  //TODO Link tıklandığında query[index] değierini useContext ile diğer komponente almamız gerek bunu nasul yapıcaz?\r\n  const handleClick = async (index) => {\r\n    const selectedReportTitle = reportTitle[index];\r\n    setSelectedReportTitle(selectedReportTitle);\r\n\r\n    //TODO SELECTED LARI SEÇİP POST ATARKEN ONLARI ARRAY HALİNDE ATMAK DAHA MANTIKLI İLK OLARAK QUERY'Yİ YAPACAĞIM İÇİN İŞLERİN HIZLI GİTMESİ BAKIMINDAN BEN VARİABLE KULLANICAM ŞİMDİLİK AMAÇLADIĞIM ŞEY BAŞARILI OLURSA BU KISIM ARRAY ŞEKLİNDE POST EDİLMELİ Kİ KOD KALABALIĞINDAN KURTULALALIM\r\n\r\n    const selectedQuery = query[index];\r\n    try {\r\n      const response = await axios.post(\"http://localhost:3000/sendQuery\", {\r\n        selectedQuery,\r\n      });\r\n\r\n      console.log(response.data[0][6]);\r\n    } catch (error) {\r\n      console.error(\"Hata\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>RAPORLAR</h1>\r\n      <ul>\r\n        {menuName.map((menuItem, index) => (\r\n          <li key={index}>\r\n            <Link\r\n              to={{\r\n                pathname: \"/report-page\",\r\n              }}\r\n              onClick={() => handleClick(index)}\r\n            >\r\n              {menuItem}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TreeView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}