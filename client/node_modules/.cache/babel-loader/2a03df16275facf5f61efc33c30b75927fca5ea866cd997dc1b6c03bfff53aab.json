{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";//import { useQuery } from \"./useContext\";\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TreeView(){//const [query, setQuery] = useState([]);\n// const [recNo, setRecNo] = useState([]);\n// const [reportTitle, setReportTitle] = useState([]);\n// const [menuName, setMenuName] = useState([]);\n//const [initRun, setInitRun] = useState([]);\nconst[data,setData]=useState([]);// const {\n//   setSelectedReportTitle,\n//   setSelectedQuery,\n//   setSelectedRecNo,\n//   setSelectedInitRun,\n// } = useQuery();\nuseEffect(()=>{async function fetchMenuItems(){try{const response=await axios.get(\"/tree-view\");const dataArray=[];//const menuArray = [];\n// const queryArray = [];\n// const reportTitleArray = [];\n//const recNoArray = [];\n//const initRunArray = [];\nlet iteraty,recNo,menuDataArray,menuAdi,raporBaslik,selectSorgusu,baslangictaRaporCalissinMi;const tabloTanimlariDegerleri=Object.values(response.data);for(let i=0;i<response.data.length;i++){const item=response.data[i];const dataItem={recNo:item[0],menuName:item[2],reportTitle:item[5],query:item[6],initRun:item[7]};dataArray.push(dataItem);}// setMenuName(menuArray);\n//setQuery(queryArray);\nsetData(dataArray);// setInitRun(initRunArray);\n// setRecNo(recNoArray);\n// setReportTitle(reportTitleArray);\n}catch(error){console.error(\"Failed to fetch menu items: \",error);}}fetchMenuItems();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"RAPORLAR\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.map((item,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/report-page/\".concat(index+1,\"/\").concat(item.query[index]),className:\"block px-4 py-2 w-40 bg-blue-500 text-white rounded-md hover:bg-blue-600\",target:\"_blank\",children:item.query[index]})},index))})]});}export default TreeView;//   // const handleClick = async (index) => {\n//   //   // const selectedReportTitle = reportTitle[index];\n//   //   // const selectedQuery = query[index];\n//   //   // const selectedRecNo = recNo[index];\n//   //   // const selectedInitRun = initRun[index];\n//   //   // setSelectedReportTitle(selectedReportTitle);\n//   //   // setSelectedQuery(selectedQuery);\n//   //   // setSelectedRecNo(selectedRecNo);\n//   //   // setSelectedInitRun(selectedInitRun);\n//   // };\n//   return (\n//     <div className=\"p-4 border rounded-lg shadow-md\">\n//       <h1 className=\"text-2xl font-bold mb-4\">RAPORLAR</h1>\n//       <ul>\n//         {query.map((queryItem, index) => (\n//           <li key={index} className=\"mb-2\">\n//             <Link\n//               to={`/report-page/${index + 1}/${queryItem}`}\n//               // onClick={() => handleClick(index)}\n//               className=\"block px-4 py-2 w-40 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n//               target=\"_blank\"\n//             >\n//               {queryItem}\n//             </Link>\n//           </li>\n//         ))}\n//       </ul>\n//     </div>\n//   );\n// }","map":{"version":3,"names":["React","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","TreeView","data","setData","fetchMenuItems","response","get","dataArray","iteraty","recNo","menuDataArray","menuAdi","raporBaslik","selectSorgusu","baslangictaRaporCalissinMi","tabloTanimlariDegerleri","Object","values","i","length","item","dataItem","menuName","reportTitle","query","initRun","push","error","console","className","children","map","index","to","concat","target"],"sources":["C:/Internship Project/client/src/pages/HomePage/treeView.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n//import { useQuery } from \"./useContext\";\r\n\r\nfunction TreeView() {\r\n  //const [query, setQuery] = useState([]);\r\n  // const [recNo, setRecNo] = useState([]);\r\n  // const [reportTitle, setReportTitle] = useState([]);\r\n  // const [menuName, setMenuName] = useState([]);\r\n  //const [initRun, setInitRun] = useState([]);\r\n  const [data, setData] = useState([]);\r\n\r\n  // const {\r\n  //   setSelectedReportTitle,\r\n  //   setSelectedQuery,\r\n  //   setSelectedRecNo,\r\n  //   setSelectedInitRun,\r\n  // } = useQuery();\r\n\r\n  useEffect(() => {\r\n    async function fetchMenuItems() {\r\n      try {\r\n        const response = await axios.get(\"/tree-view\");\r\n        const dataArray = [];\r\n\r\n        //const menuArray = [];\r\n        // const queryArray = [];\r\n        // const reportTitleArray = [];\r\n        //const recNoArray = [];\r\n        //const initRunArray = [];\r\n        let iteraty,\r\n          recNo,\r\n          menuDataArray,\r\n          menuAdi,\r\n          raporBaslik,\r\n          selectSorgusu,\r\n          baslangictaRaporCalissinMi;\r\n        const tabloTanimlariDegerleri = Object.values(response.data);\r\n\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          const item = response.data[i];\r\n          const dataItem = {\r\n            recNo: item[0],\r\n            menuName: item[2],\r\n            reportTitle: item[5],\r\n            query: item[6],\r\n            initRun: item[7],\r\n          };\r\n          dataArray.push(dataItem);\r\n        }\r\n        // setMenuName(menuArray);\r\n        //setQuery(queryArray);\r\n        setData(dataArray);\r\n\r\n        // setInitRun(initRunArray);\r\n        // setRecNo(recNoArray);\r\n        // setReportTitle(reportTitleArray);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch menu items: \", error);\r\n      }\r\n    }\r\n    fetchMenuItems();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-4 border rounded-lg shadow-md\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">RAPORLAR</h1>\r\n      <ul>\r\n        {data.map((item, index) => (\r\n          <li key={index} className=\"mb-2\">\r\n            <Link\r\n              to={`/report-page/${index + 1}/${item.query[index]}`}\r\n              className=\"block px-4 py-2 w-40 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\r\n              target=\"_blank\"\r\n            >\r\n              {item.query[index]}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TreeView;\r\n\r\n//   // const handleClick = async (index) => {\r\n//   //   // const selectedReportTitle = reportTitle[index];\r\n//   //   // const selectedQuery = query[index];\r\n//   //   // const selectedRecNo = recNo[index];\r\n//   //   // const selectedInitRun = initRun[index];\r\n//   //   // setSelectedReportTitle(selectedReportTitle);\r\n//   //   // setSelectedQuery(selectedQuery);\r\n//   //   // setSelectedRecNo(selectedRecNo);\r\n//   //   // setSelectedInitRun(selectedInitRun);\r\n//   // };\r\n\r\n//   return (\r\n//     <div className=\"p-4 border rounded-lg shadow-md\">\r\n//       <h1 className=\"text-2xl font-bold mb-4\">RAPORLAR</h1>\r\n//       <ul>\r\n//         {query.map((queryItem, index) => (\r\n//           <li key={index} className=\"mb-2\">\r\n//             <Link\r\n//               to={`/report-page/${index + 1}/${queryItem}`}\r\n//               // onClick={() => handleClick(index)}\r\n//               className=\"block px-4 py-2 w-40 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\r\n//               target=\"_blank\"\r\n//             >\r\n//               {queryItem}\r\n//             </Link>\r\n//           </li>\r\n//         ))}\r\n//       </ul>\r\n//     </div>\r\n//   );\r\n// }\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEA,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB;AACA;AACA;AACA;AACA;AACA,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEpC;AACA;AACA;AACA;AACA;AACA;AAEAC,SAAS,CAAC,IAAM,CACd,cAAe,CAAAU,cAAcA,CAAA,CAAG,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,YAAY,CAAC,CAC9C,KAAM,CAAAC,SAAS,CAAG,EAAE,CAEpB;AACA;AACA;AACA;AACA;AACA,GAAI,CAAAC,OAAO,CACTC,KAAK,CACLC,aAAa,CACbC,OAAO,CACPC,WAAW,CACXC,aAAa,CACbC,0BAA0B,CAC5B,KAAM,CAAAC,uBAAuB,CAAGC,MAAM,CAACC,MAAM,CAACZ,QAAQ,CAACH,IAAI,CAAC,CAE5D,IAAK,GAAI,CAAAgB,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGb,QAAQ,CAACH,IAAI,CAACiB,MAAM,CAAED,CAAC,EAAE,CAAE,CAC7C,KAAM,CAAAE,IAAI,CAAGf,QAAQ,CAACH,IAAI,CAACgB,CAAC,CAAC,CAC7B,KAAM,CAAAG,QAAQ,CAAG,CACfZ,KAAK,CAAEW,IAAI,CAAC,CAAC,CAAC,CACdE,QAAQ,CAAEF,IAAI,CAAC,CAAC,CAAC,CACjBG,WAAW,CAAEH,IAAI,CAAC,CAAC,CAAC,CACpBI,KAAK,CAAEJ,IAAI,CAAC,CAAC,CAAC,CACdK,OAAO,CAAEL,IAAI,CAAC,CAAC,CACjB,CAAC,CACDb,SAAS,CAACmB,IAAI,CAACL,QAAQ,CAAC,CAC1B,CACA;AACA;AACAlB,OAAO,CAACI,SAAS,CAAC,CAElB;AACA;AACA;AACF,CAAE,MAAOoB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CACAvB,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEJ,KAAA,QAAK6B,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9ChC,IAAA,OAAI+B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACrDhC,IAAA,OAAAgC,QAAA,CACG5B,IAAI,CAAC6B,GAAG,CAAC,CAACX,IAAI,CAAEY,KAAK,gBACpBlC,IAAA,OAAgB+B,SAAS,CAAC,MAAM,CAAAC,QAAA,cAC9BhC,IAAA,CAACH,IAAI,EACHsC,EAAE,iBAAAC,MAAA,CAAkBF,KAAK,CAAG,CAAC,MAAAE,MAAA,CAAId,IAAI,CAACI,KAAK,CAACQ,KAAK,CAAC,CAAG,CACrDH,SAAS,CAAC,0EAA0E,CACpFM,MAAM,CAAC,QAAQ,CAAAL,QAAA,CAEdV,IAAI,CAACI,KAAK,CAACQ,KAAK,CAAC,CACd,CAAC,EAPAA,KAQL,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAA/B,QAAQ,CAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}